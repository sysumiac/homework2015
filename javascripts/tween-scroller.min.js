(function(){$.fn.scroll=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M=this;return h={minimalScrollbarHeight:50,accelerator:4},I=$.extend({},h,a),b=$(document),i=1e3/60,u=60,v=.8,e=500,g=.97,m=.7,c=I.accelerator,w=I.minimalScrollbarHeight,x=function(){var a,b;return b=M,a=b.find("div.scroll-inner:eq(0)"),b.$inner=a,b.enableScrolling=!0,d(b),A(b),b.velocity=0,t(b),k(b),L(b),n(b)},t=function(a){return a.on("mousewheel DOMMouseScroll",$.proxy(C,a))},C=function(a){var b,c,d,e;return a.preventDefault(),c=this,b=c.$inner,d=c.$scrollbar,r(c)?(J(c),A(c),e=p(c.velocity,o(a)),G(c,e),H(c),b.stop(!0,!1)):void 0},r=function(a){return a.outerHeight()<a.$inner.outerHeight()&&a.enableScrolling},G=function(a,b){var c,d,e;return clearTimeout(a.scrollTimer),c=a.$inner,d=a.$scrollbar,c.css("top","+="+b),a.scrollTimer=setTimeout(function(){return G(a,b)},i),s(b)?(K(a),a.isExceed&&D(a),void 0):(e=f(a),b=p(b,0,e),a.velocity=b)},s=function(a){return Math.abs(a)<v},f=function(a){var b,c,d,e;return b=a.$inner,c=b.position().top,e=a.outerHeight()-b.outerHeight(),d=0,c>d?(a.isExceed=!0,a.exceedDistance=c,a.trigger("reach-top"),m):e>c?(a.isExceed=!0,a.exceedDistance=c-e,a.trigger("reach-bottom"),m):(a.isExceed=!1,1)},D=function(a){var b,c,d,f,g;return b=a.$inner,c=a.$scrollbar,d=a.exceedDistance,f=a.outerHeight()-b.outerHeight(),g=a.outerHeight()-c.outerHeight(),0>d?(b.stop(!0,!1).animate({top:f},e),c.stop(!1,!0).animate({top:g},e)):(b.stop(!0,!1).animate({top:0},e),c.stop(!1,!0).animate({top:0},e))},K=function(a){return a.velocity=0,clearTimeout(a.scrollbarTimer),clearTimeout(a.scrollTimer)},H=function(a){return clearTimeout(a.scrollbarTimer),B(a),a.scrollbarTimer=setTimeout(function(){return H(a)},i)},A=function(a){var b,c,d;return c=a.outerHeight(),b=a.$inner.outerHeight(),d=c*(c-w)/b+w,a.$scrollbar.animate({height:d},300)},B=function(a){var b,c,d,e,f,g,h,i;return i=[a.$scrollbar,a.$inner],c=i[0],b=i[1],e=b.position().top,f=a.outerHeight(),d=b.outerHeight(),g=c.outerHeight(),h=-e*(f-g)/(d-f),c.css("top",h)},o=function(a){var b;return"mousewheel"===a.type?b=a.originalEvent.wheelDelta/120:"DOMMouseScroll"===a.type&&(b=a.originalEvent.detail),b*c},p=function(a,b,c){var d,e;return null==c&&(c=1),d=0>a*b?!0:!1,d?a=b:(0===b?a=a*g*c:a+=b,e=0>a?-1:1,a=Math.abs(a)>u?e*u:a),a},d=function(a){var b;return b=$("<div class='scrollbar'></div>"),a.$scrollbar=b,a.append(b)},k=function(a){var c,d,e,f,g,h;return c=a.$scrollbar,h=0,g=0,d=function(d){return d.preventDefault(),a.isDragging=!0,K(a),h=c.position().top,g=d.clientY,b.on("mousemove",f)},e=function(c){return c.preventDefault(),a.isDragging=!1,a.isMouseover||q(a),b.off("mousemove",f)},f=function(b){return b.preventDefault(),h=b.clientY-g+c.position().top,h=z(h,a),g=b.clientY,c.css("top",h),E(a)},c.on("mousedown",d),b.on("mouseup",e)},z=function(a,b){var c,d;return c=b.$scrollbar,d=b.outerHeight()-c.outerHeight(),a>d&&(a=d,b.trigger("reach-bottom")),0>a&&(a=0,b.trigger("reach-bottom")),a},E=function(a){var b,c,d,e,f,g,h,i;return i=[a.$scrollbar,a.$inner],c=i[0],b=i[1],d=b.outerHeight(),f=a.outerHeight(),g=c.outerHeight(),h=c.position().top,e=-h*(d-f)/(f-g),b.css("top",e)},L=function(a){return a.hover(function(){return a.isMouseover=!0,J(a)},function(){return a.isMouseover=!1,q(a)})},J=function(a){return!a.isDragging&&r(a)?a.$scrollbar.stop(!0,!0).fadeIn(200):void 0},q=function(a){return a.isDragging?void 0:a.$scrollbar.stop(!0,!0).fadeOut(200)},n=function(a){return $.extend(a,{enableScroll:l,disableScroll:j,scrollMeTo:F})},l=function(a){return this.enableScrolling=!0,a===!1?this.enableScrolling=!1:void 0},j=function(){return this.enableScrolling=!1},F=function(a){var b,c,d,e,f,g,h;return h=[this.$inner,this.$scrollbar],b=h[0],c=h[1],e=this.outerHeight(),d=b.outerHeight(),f=c.outerHeight(),"top"===a&&(a=0),"bottom"===a&&(a=e-d),"number"==typeof a?(a=y(this,a),g=-a*(e-f)/(d-e),K(this),b.stop(!0,!1).animate({top:a},500),c.stop(!0,!1).animate({top:g},500)):void 0},y=function(a,b){var c,d;return c=a.$inner,d=a.outerHeight()-c.outerHeight(),b>0?0:d>b?d:b},x()}}).call(this);